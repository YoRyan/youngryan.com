<figure class="figure  figure--{{ include.position | default: 'center' }}">
  {%- if include.video -%}
    <video src="{{ include.video }}" {{ include.width ? include.width | prepend: 'width="' | append: '"' }} {{ include.height ? include.height | prepend: 'height="' | append: '"' }} controls>
      <p>
        The video player is not available. You may try the <a href="{{ include.video }}">direct link</a>.
      </p>
      <p>
        {{ include.alt | default: include.caption }}
      </p>
    </video>
  {%- else -%}
    <img class="image" src="{{ include.image }}" alt="{{ include.alt | default: include.caption }}" {{ include.width ? include.width | prepend: 'width="' | append: '"' }} {{ include.height ? include.height | prepend: 'height="' | append: '"' }}>
  {%- endif -%}
  {%- if include.caption -%}
    <figcaption class="caption">
      {%- if include contains "captionmarkdown" -%}
        {{ include.caption | markdownify }}
      {%- else -%}
        {{ include.caption }}
      {%- endif -%}
    </figcaption>
  {%- endif -%}
</figure>